<!--pages/edit_functions/edit_functions.wxml-->
<!-- <canvas
  canvas-id="edit"
  disable-scroll="false"
  bindtouchstart="touchStart"
  style="height: {{cHeight}}px; width: {{cWidth}}px;"
></canvas> -->

<canvas-drag 
  id="canvas-drag" 
  graph="{{graph}}" 
  bindtouchstart="touchStart"
  style='width:{{cWidth}}px;'
  height='600'
></canvas-drag>

<!-- <canvas-drag id="canvas-drag" graph="{{graph}}" style='width:{{imageWidth}}px;' height="600"></canvas-drag> -->

<view class="bottom">
  <block wx:for="{{btnInfo}}" wx:key="index">
    <view class="list-item" data-type="{{item.type}}" style="background: {{item.background}}" bindtap="tapBtn"></view>
  </block>
</view>

<view class="choose-box" wx:if="{{text}}">
  <view class='addText'>
    <input class='textInput' placeholder='整两句儿' maxlength="10" bindblur='textFinish'></input>
  </view>
  <view class='btnView'>
    <button class='addTextBtn' type='primary' disabled = '{{!maxLen}}'  bindtap='onAddText'>
      添加文字
    </button>
  </view>
</view>

<view class="choose-box" wx:if="{{paint}}">
  <slider min="1" max="50" step="1" show-value="true" activeColor="black" value="{{w}}" bindchange="changeWidth"/>
  <slider min="0" max="255" step="1" show-value="true" activeColor="red" value="{{r}}" data-color="r" bindchange="changeColor"/>
  <slider min="0" max="255" step="1" show-value="true" activeColor="green" value="{{g}}" data-color="g" bindchange="changeColor"/>
  <slider min="0" max="255" step="1" show-value="true" activeColor="blue" value="{{b}}" data-color="b" bindchange="changeColor"/>
<view class="color-box" style="background: {{'rgb(' + r + ', ' + g + ', ' + b + ')'}}; height: {{w}}px; border-radius: {{w/2}}px"></view>
</view>

<view class='chooseColorView' wx:if="{{text}}">
  <view 
    wx:for='{{colorArrF}}' 
    wx:for-item="itemColor" 
    wx:for-index="idx" 
    wx:key='FirstColor' 
    bindtap='chooseColor' 
    id='{{itemColor}}'>
    <view 
      wx:if='{{currentColor == itemColor}}' 
      class='colorView' 
      style='background-color:{{itemColor}}; border: 1px solid #515151; width:29px; height:29px'
    ></view>
    <view wx:else class='colorView' style='background-color:{{itemColor}}'></view>
  </view>
</view>

<view class='chooseColorView' wx:if="{{text}}">
  <view 
    wx:for='{{colorArrS}}' 
    wx:for-item="itemColor" 
    wx:for-index="idx" 
    wx:key='FirstColor' 
    bindtap='chooseColor' 
    id='{{itemColor}}'>
    <view 
      wx:if='{{currentColor == itemColor}}' 
      class='colorView' 
      style='background-color:{{itemColor}}; border: 1px solid #515151; width:29px; height:29px'
    ></view>
    <view wx:else class='colorView' style='background-color:{{itemColor}};'></view>
  </view>
</view>