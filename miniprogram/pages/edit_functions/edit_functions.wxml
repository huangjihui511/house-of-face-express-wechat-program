<canvas
  canvas-id="edit"
  bindtouchstart="touchStart"
  style="width: {{cWidth}}px; height: {{cHeight}}px"
/>

<view class="bottom">
  <block wx:for="{{btnInfo}}" wx:key="index">
    <view class="list-item" data-type="{{item.type}}" style="background: {{item.background}}" bindtap="tapBtn"></view>
  </block>
</view>

<view class="{{text ? 'weui-show' :'weui-hidden'}}">
  <view class="weui-mask init" bindtap="touchStart" data-type="tap"></view>

  <view class="weui-half-screen-dialog">

    <view class="weui-half-screen-dialog__hd">
      <view class="weui-half-screen-dialog__hd__side" bindtap="touchStart" data-type="close">
        <view class="weui-icon-btn weui-icon-btn_close">关闭</view>
      </view>
      <view class="weui-half-screen-dialog__hd__main">
        <block>
          <text class="weui-half-screen-dialog__title">文字添加</text>
        </block>
      </view>
    </view>

    <view class="weui-half-screen-dialog__bd">
      <block>
        <view class="weui-cell_input">
          <input class="weui-input" maxlength="10" placeholder="整一句儿" bindblur="textFinish" />
        </view>
        <view class='btnView'>
          <button class='addTextBtn' type='primary' disabled = '{{!maxLen}}'  bindtap='onAddText'>
            添加文字
          </button>
        </view>
      </block>
    </view>

    <view class="weui-half-screen-dialog__ft">
      <block>
        <view class='chooseColorView'>
          <view wx:for='{{colorArrF}}' wx:for-item="itemColor" wx:for-index="idx" wx:key='FirstColor' bindtap='chooseColorF' id='{{itemColor}}'>
            <view  wx:if='{{currentColor == itemColor}}' class='colorView' style='background-color:{{itemColor}}; border: 1px solid #515151; width:29px; height:29px'></view>
            <view wx:else class='colorView' style='background-color:{{itemColor}};'>
            </view>
          </view>
        </view>
        <view class='chooseColorView'>
          <view wx:for='{{colorArrS}}' wx:for-item="itemColor" wx:for-index="idx" wx:key='FirstColor' bindtap='chooseColorF' id='{{itemColor}}'>
            <view  wx:if='{{currentColor == itemColor}}' class='colorView' style='background-color:{{itemColor}}; border: 1px solid #515151; width:29px; height:29px'></view>
            <view wx:else class='colorView' style='background-color:{{itemColor}};'>
            </view>
          </view>
        </view>
      </block>
    </view>

  </view>
</view>

<view class="{{paint ? 'weui-show' :'weui-hidden'}}"> 
  <view class="weui-mask init" bindtap="touchStart" data-type="tap"></view>
  <view class="weui-half-screen-dialog">
    <view class="weui-half-screen-dialog__hd">
      <view class="weui-half-screen-dialog__hd__side" bindtap="touchStart" data-type="close">
        <view class="weui-icon-btn weui-icon-btn_close">关闭</view>
      </view>
      <view class="weui-half-screen-dialog__hd__main">
        <block>
          <text class="weui-half-screen-dialog__title">涂鸦</text>
        </block>
      </view>
    </view>

    <view class="weui-half-screen-dialog__bd">
      <block>
        <view class="color-box" 
          style="background: {{'rgb(' + r + ', ' + g + ', ' + b + ')'}}; height: {{w}}px; border-radius: {{w/2}}px"
        ></view>
      </block>
    </view>

    <view class="weui-half-screen-dialog__ft">
      <block>
        <slider min="1" max="50" step="1" show-value="true" activeColor="black" value="{{w}}" bindchange="changeWidth"/>
        <slider min="0" max="255" step="1" show-value="true" activeColor="red" value="{{r}}" data-color="r" bindchange="changeColor"/>
        <slider min="0" max="255" step="1" show-value="true" activeColor="green" value="{{g}}" data-color="g" bindchange="changeColor"/>
        <slider min="0" max="255" step="1" show-value="true" activeColor="blue" value="{{b}}" data-color="b" bindchange="changeColor"/>
      </block>
    </view>
  </view>
</view>